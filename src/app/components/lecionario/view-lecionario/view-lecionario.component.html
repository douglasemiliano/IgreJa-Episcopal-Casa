<div class="lecionario-container">

  <!-- Conteúdo principal -->
  <div class="conteudo">
    @if(conteudoLecionario){
      <span class="text-center mt-5 d-block">
        <h6>{{conteudoLecionario ? conteudoLecionario.nome : "Lecionario"}}</h6>
        <h4><strong>Ano C - {{conteudoLecionario.tempo}}</strong></h4>
      </span>

      <hr />

      <div class="container d-flex flex-column justify-content-between">
        <span style="text-align: justify;">{{descricaoLecionario}}</span>
        <br>

        <strong>{{liturgiaDiariaTitulo}}</strong>
        <br>

        <ol>
          @for (lit of this.liturgiaDiaria; track lit){
            <li>{{lit}}</li>
          }
        </ol>
        <br>

        @if (this.conteudoLecionario.leituras){
          <strong>Textos Bíblicos:</strong>
          <br>
          <ul>
            @for (texto of this.conteudoLecionario.leituras; let index = $index; track index) {
              <li><strong>{{ primeiraLetraMaiuscula(texto.tipo) }}:</strong> {{texto.texto}}</li>
            }
          </ul>
        }
        <br>

        <strong>Orações para o dia:</strong>
        <br>
        <ul>
          @for (oracao of this.conteudoLecionario.oracoes; let index = $index; track index) {
            <li>{{oracao}}</li>
          }
        </ul>
      </div>
    } @else {
      <div class="empty-state">
        <img src="empty.png" alt="empty-state" />
        <h6>Nenhum conteúdo encontrado para a data selecionada!</h6>
      </div>
    }
  </div>

  <!-- Bottom bar fixa, largura do conteúdo -->
  <nav class="navbar bottombar d-flex flex-row">
    <button class="btn" (click)="incrementarDecrementarDia(false)">
      <mat-icon fontIcon="arrow_back_ios_new"></mat-icon>
    </button>

    <button class="btn d-flex flex-column justify-content-center align-items-center" 
            (click)="isOpen = !isOpen"
            type="button" 
            cdkOverlayOrigin #trigger="cdkOverlayOrigin">
      <strong style="font-size: 14pt;">{{dataUnica | date}}</strong>
    </button>

    <button class="btn" (click)="incrementarDecrementarDia(true)">
      <mat-icon fontIcon="arrow_forward_ios_new"></mat-icon>
    </button>
  </nav>

  <!-- Overlay do calendário -->
  <ng-template cdkConnectedOverlay 
               [cdkConnectedOverlayOrigin]="trigger"
               [cdkConnectedOverlayOpen]="isOpen">
    <mat-card class="calendario">
      <mat-calendar [selected]="dataUnica" (selectedChange)="onSelect($event)"></mat-calendar>
    </mat-card>
  </ng-template>

  <!-- FAB de copiar -->
  <button mat-fab class="fab" (click)="formatarTexto()">
    <mat-icon>content_copy</mat-icon>
  </button>

</div>
